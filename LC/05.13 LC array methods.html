<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
  "use strict"

  const people = [
      { firstName: 'Sam', lastName: 'Hughes', DOB: '07/07/1978', department: 'Development', salary: '45000' },
      { firstName: 'Terri', lastName: 'Bishop', DOB: '02/04/1989', department: 'Development', salary: '35000' },
      { firstName: 'Jar', lastName: 'Burke', DOB: '11/01/1985', department: 'Marketing', salary: '38000' },
      { firstName: 'Julio', lastName: 'Miller', DOB: '12/07/1991', department: 'Sales', salary: '40000' },
      { firstName: 'Chester', lastName: 'Flores', DOB: '03/15/1988', department: 'Development', salary: '41000' },
      { firstName: 'Madison', lastName: 'Marshall', DOB: '09/22/1980', department: 'Sales', salary: '32000' },
      { firstName: 'Ava', lastName: 'Pena', DOB: '11/02/1986', department: 'Development', salary: '38000' },
      { firstName: 'Gabriella', lastName: 'Steward', DOB: '08/26/1994', department: 'Marketing', salary: '46000' },
      { firstName: 'Charles', lastName: 'Campbell', DOB: '09/04/1977', department: 'Sales', salary: '42000' },
      { firstName: 'Tiffany', lastName: 'Lambert', DOB: '05/11/1990', department: 'Development', salary: '34000' },
      { firstName: 'Antonio', lastName: 'Gonzalez', DOB: '03/24/1985', department: 'Office Management', salary: '49000' },
      { firstName: 'Aaron', lastName: 'Garrett', DOB: '09/04/1985', department: 'Development', salary: '39000' },
  ];

  // Exercises

  // 1) Определите среднюю ЗП?

 console.log(people.reduce((acc, item) => acc += +item.salary,0) / people.length)


  // 2) Верните массив из людей младше 40 лет
  for (let item of people) {
      console.log(item.DOB.slice(-4))
  }
  let under40 = people.filter(item=> 2023-(+item.DOB.slice(-4)) < 40);
 console.log(under40)


  // 3) Верните список тех к у кого имя (firstName and lastName).



     function findByName(arr, firstName, LastName) {
         return arr.filter(item => (item.firstName == firstName))
     }

     console.log(findByName(people, 'Charles', ''))


  // 4) Отсортируйте массив по возрастанию возраста

  console.log(people.sort(function (a,b) { return - +a.DOB.slice(-4) + +b.DOB.slice(-4)}))




  // 5) Верните массив состоящий из объектов название департамента: кол-во сотрудников

  let depts = {};
  for (let item of people) {
      if (depts[item.department]) {
          depts[item.department] +=1;
      } else {
          depts[item.department] = 1;
      }
  }

  console.log(depts)

  /**
   * Напишите функцию которая берет многомерный массив и возвращает одномерный
   * Не используйте array.flat()
   * используйте reduce и рекурсию
   * Ожидаемый результат: [1, 2, [3, 4, [5]]] => [1, 2, 3, 4, 5]
   *

   */





  const data = [1, 2, [3, 4, [5]]];
  function flatten(arr) {
      return arr.reduce((acc,item) => acc.concat(Array.isArray(item) ? flatten(item) : item),[])


  }
  console.log(flatten(data)); // [1, 2, 3, 4, 5]


  /**
   * Напишите функцию которая берет массив и возвращает массив разбитый на подмассивы размерности n
   * Напрмер: ([1, 2, 3, 4, 5], 2) => [[1, 2], [3, 4], [5]]
   */

  function chunk(arr, size) {
      let result = [];
      let point = 0;
      do {
          result.push(arr.slice(point,point + size));
          point += size;
      } while (point < arr.length);

      return result;
  }

  const data1 = [1, 2, 3, 4, 5, 6, 7];
  console.log(chunk(data1, 2)) // [[1, 2], [3, 4], [5, 6], [7]]
  console.log(chunk(data1, 3)) // [[1, 2, 3], [4, 5, 6], [7]]






</script>

</body>
</html>