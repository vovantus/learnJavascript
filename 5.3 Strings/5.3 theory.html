<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>5.3 Strings</title>
</head>
<body>
  <p>5.3 Strings</p>
<script>
  "use strict"
  // str.length - длина
  // str[pos], undefined если pos < 0
  // str.at(pos)  - возвр элемент, можно отриц позицию at(-1) - последний символ

  // str.toLowerCase(), str.toUpperCase()


  // str.indexOf(substr, pos) - поиск позиции подстроки, -1 если не найдено
  // str.lastIndexOf(substr, pos) -  поиск позиции с конца строки

  // побитовое НЕ, возвр для чисел -(n+1)

  // str.includes(substr, pos) овзвр true/false
  // str.startsWith() str.endsWith()

  // str.slice(start[, end]) -- от start до end (не включая end) -- можно передавать отрицательные значения
  // str.substring(start[, end]) -- между start и end -- отрицательные значения равнозначны 0
  // substr(start, length) -- length символов, начиная от start -- значение start может быть отрицательным

  // сравнение строк
  // str.codePointAt(pos) - возвр код символа
  // String.fromCodePoint(code) - возвр символ по коду

  //str.localeCompare(str2)
  // Отрицательное число, если str меньше str2.
  //     Положительное число, если str больше str2.
  // 0, если строки равны.

  function sum(a,b) {
      return a + b;
  }

  console.log(`1 + 2 = ${sum(1,2)}.`);

  let guestList = `Guests:
  * John
  * Pete
  * Marry
  `;

  console.log(guestList);

  let guestsList2 = "Guests: \n* John\n * Pete\n * Marry";
  console.log(guestsList2);

  let str1 = 'Hello\nWorld';
  let str2 = `Hello
World`;

  console.log(str1 == str2);

  console.log('I\'m the Walrus!');
  console.log('The backslash: \\');

  console.log('My\n'.length);

  let str = 'Hello';

  console.log(str[0]);
  console.log(str.at(0));

  console.log(str[str.length - 1]);
  console.log(str.at(-1));

  console.log(str[-2]);
  console.log(str.at(-2));

  for (let char of str ) {
      console.log(char);
  }
  //
  // str[1] = 'h';
  // console.log(str[0]);

  str = 'Interface'

  console.log('Interface'.toUpperCase());
  console.log(str[0].toLowerCase());
  console.log(str);

  let str3 = 'Widget with id';

  console.log(str3.indexOf('Widget'));
  console.log(str3.indexOf('widget'));

  console.log(str3.indexOf('id'));

  console.log(str3.indexOf('id', 4));


  let target = 'id';

  let pos = 0;
  while (true) {
      let foundPos = str3.indexOf(target, pos);
      if (foundPos == -1) break;

      console.log(`found here ${foundPos}`);
      pos = foundPos + 1;
  };

  pos = -1;
  while ((pos = str3.indexOf(target,pos+1)) != -1) {
      console.log(pos);
  };

  if (str3.indexOf('Widget')) {
      console.log('not working');
  };

  if (str3.indexOf('Widget') != -1)  {
      console.log('it works!');
  };

  console.log(~2, ~1, ~0, ~-1);

  if (~str3.indexOf('Widget')) {
      console.log('it works!');
  };

  console.log(str3.includes('Widget'));
  console.log('Hello'.includes('Bye'));

  console.log(str3.includes('Widget',3));
  console.log(str3.startsWith('Wid'));
  console.log(str3.endsWith('id'));

  let str4 = 'stringify';

  console.log(str4.slice(0,5));
  console.log(str4.slice(0,1));

  console.log(str4.slice(2));

  console.log(str4.slice(-4,-1));
  console.log(str4.slice(-4,-3));

  console.log(str4.substring(2,6));
  console.log(str4.substring(6,2));
  console.log(str4.substring(6,-4));


  console.log(str4.substr(2,3));
  console.log(str4.substr(-2,3));

// сравнение
  console.log( 'a' > 'Z' );
  console.log( 'Österreich' > 'Zealand' );
  console.log( "z".codePointAt(0) );
  console.log( "Z".codePointAt(0) );

  let str5 = '';

  for (let i = 65; i <= 220; i++) {
      str5 += String.fromCodePoint(i);
  }
  console.log( str5 );

  console.log( 'Österreich'.localeCompare('Zealand'));

</script>

</body>
</html>