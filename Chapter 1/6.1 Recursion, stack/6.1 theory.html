<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>6.1 recursion, stack</title>
</head>
<body>
<script>
    "use strict"


    //степень
    function pow(x, n){
        if (n == 1){
            return x;
        } else {
            return x * pow(x, n-1);
        }
    };

    console.log(pow(2,3));

    function pow2(x, n) {
        return (n == 1) ? x : (x * pow(x, n - 1));
    };

    console.log(pow2(2,3));



     // рекурсивынй обход

    let company = {
        sales: [{name: 'John', salary: 1000}, {name: 'Alice', salary: 600 }],
        development: {
            sites: [{name: 'Peter', salary: 2000}, {name: 'Alex', salary: 1800 }],
            internals: [{name: 'Jack', salary: 1300}]
        }
    };


    function sumSalaries(department) {
        if (Array.isArray(department)) {
            return department.reduce((prev, current) => prev + current.salary, 0);
        } else {
            let sum = 0;
            for (let subdep of Object.values(department)) {
                sum += sumSalaries(subdep);
            }
            return sum;
        }
    }

    console.log(sumSalaries(company));

</script>

</body>
</html>